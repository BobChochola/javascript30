<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const inventors = [

            {
                first: 'Albert',
                last: 'Einstein',
                year: 1879,
                passed: 1955
            }, {
                first: 'Isaac',
                last: 'Newton',
                year: 1643,
                passed: 1727
            }, {
                first: 'Falileo',
                last: 'Galilei',
                year: 1564,
                passed: 1642
            }, {
                first: 'Marie',
                last: 'Curie',
                year: 1571,
                passed: 1934
            }, {
                first: 'Jogannes',
                last: 'Lepler',
                year: 1473,
                passed: 1630
            }, {
                first: 'Nicolaus',
                last: 'Copernicus',
                year: 1571,
                passed: 1543
            }, {
                first: 'Max',
                last: 'Planck',
                year: 1473,
                passed: 1947
            }, {
                first: 'Katherine',
                last: 'Blodgett',
                year: 1898,
                passed: 1979
            }, {
                first: 'Ada',
                last: 'Lovelace',
                year: 1815,
                passed: 1905
            }, {
                first: 'Sarah E.',
                last: 'Goode',
                year: 1855,
                passed: 1905
            }, {
                first: 'Lise',
                last: 'Meitner',
                year: 1878,
                passed: 1968
            }, {
                first: 'Hanna',
                last: 'Hammarström',
                year: 1829,
                passed: 1909
            }
        ];

        inventors.forEach(inventor => {
            inventor.years = inventor.passed - inventor.year
        })

        const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];

        // Array.prototype.filter()
        // 1. Filter the list of inventors for those who were born in the 1500's

        let ans = inventors.filter(function(inventor) {
            return inventor.year >= 1500 && inventor.year < 1600
        });

        // ES6 arrow function
        // let ans = inventors.filter(inventor => inventor.year >= 1500 && inventor.year < 1600)

        console.table(ans)

        // ----------------------------------------------------------------------------------
        // Array.prototype.map()
        // 2. Give us an array of the inventors' first and last names

        let ans_2 = inventors.map(function(inventor) {
            return inventor.first + ' ' + inventor.last
        });

        // ES6 arrow function
        // let ans_2 = inventors.map(inventor => inventor.first + ' ' + inventor.last);

        console.table(ans_2)

        // ----------------------------------------------------------------------------------
        // Array.prototype.sort()
        // 3. Sort the inventors by birthdate, oldest to youngest

        let ans_3 = inventors.sort(function(a, b) {
            return a.year - b.year
        });

        // ES6 arrow function
        // let ans_3 = inventors.sort((a, b) => a.year - b.year)

        console.table(ans_3)

        // ----------------------------------------------------------------------------------
        // Array.prototype.reduce()
        // 4. How many years did all the inventors live?
        let total = inventors.reduce(function(total, inventor) {
            return total = inventor.passed - inventor.year
        })

        // ES6 arrow function
        // let total = inventors.reduce((total, inventor) => {
        //     return total = inventor.passed - inventor.year
        // }, 0)


        // 1 => total = 0, inventor = {
        //     first: 'Albert',
        //     last: 'Einstein',
        //     year: 1879,
        //     passed: 1955
        // },
        // 2 => total = 0 + (1955 - 1878), next Array
        // 3 => total = 0 + (1955 - 1878) + (next Array.passed - Array.year) next Array
        console.log(total);

        // ----------------------------------------------------------------------------------
        // 5. Sort the inventors by years lived

        let ans_4 = inventors.sort(function(a, b) {
            (a.passed - a.year) - (b.passed - b.year)
        })

        // ES6 arrow function
        // let ans_5 = inventors.sort((a, b) => {
        //     (a.passed - a.year) - (b.passed - b.year)
        // });

        console.table(ans_4)

        // ----------------------------------------------------------------------------------
        // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
        // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris

        let ary = []
        document.querySelectorAll('.mw-category-group li a').forEach((a) => {
            ary.push(a.title)
        })
        let ans_5 = ary.filter(title => title.indexOf('de') !== -1)

        console.log(ans_5)

        // ----------------------------------------------------------------------------------
        // 7. sort Exercise
        // Sort the people alphabetically by last name

        let ans_6 = people.sort(function(a, b) {
            let [aFirst, aLast] = a.split(', ')
            let [bFirst, bLast] = b.split(', ')
            return aLast > bLast ? 1 : bLast > aLast ? -1 : 0
                // if (aLast > bLast) {
                //     return 1
                // } else if (bLast > aLast)
                //     return -1
                // } else {
                //   return 0
                // }
                // 條件 ? 條件成立 : 條件不成立
        });

        // ES6 arrow function
        // let ans_6 = people.sort((a, b) => {
        //     let [aFirst, aLast] = a.split(', ')
        //     let [bFirst, bLast] = b.split(', ')
        //     return aLast[0] > bLast[0] ? 1 : bLast[0] > aLast[0] ? -1 : 0
        // });

        console.table(ans_6);

        // ----------------------------------------------------------------------------------
        // 8. Reduce Exercise
        // Sum up the instances of each of these
        const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck'];

        // let ans_7 = data.reduce(function(obj, content) {
        //     if (!obj[content]) {
        //         return 1
        //     } else {
        //         return obj[content] += 1
        //     }
        //     return obj
        // })

        // ES6 arrow function
        let ans_7 = data.reduce((obj, content) => {
            if (!obj[content]) obj[content] = 1
            else obj[content] += 1
            return obj
        }, {});

        console.table(ans_7);
    </script>

    </table>

</body>

</html>